"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var t,e,n,r,o,a,i=(t=require("axios"))&&"object"==typeof t&&"default"in t?t.default:t;function s(){s=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r=Object.defineProperty||function(t,e,n){t[e]=n.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",i=o.asyncIterator||"@@asyncIterator",u=o.toStringTag||"@@toStringTag";function c(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(t){c=function(t,e,n){return t[e]=n}}function l(t,e,n,o){var a=Object.create((e&&e.prototype instanceof d?e:d).prototype),i=new R(o||[]);return r(a,"_invoke",{value:C(t,n,i)}),a}function f(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=l;var h={};function d(){}function p(){}function m(){}var y={};c(y,a,(function(){return this}));var v=Object.getPrototypeOf,g=v&&v(v(E([])));g&&g!==e&&n.call(g,a)&&(y=g);var D=m.prototype=d.prototype=Object.create(y);function T(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function w(t,e){var o;r(this,"_invoke",{value:function(r,a){function i(){return new e((function(o,i){!function r(o,a,i,s){var u=f(t[o],t,a);if("throw"!==u.type){var c=u.arg,l=c.value;return l&&"object"==typeof l&&n.call(l,"__await")?e.resolve(l.__await).then((function(t){r("next",t,i,s)}),(function(t){r("throw",t,i,s)})):e.resolve(l).then((function(t){c.value=t,i(c)}),(function(t){return r("throw",t,i,s)}))}s(u.arg)}(r,a,o,i)}))}return o=o?o.then(i,i):i()}})}function C(t,e,n){var r="suspendedStart";return function(o,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw a;return{value:void 0,done:!0}}for(n.method=o,n.arg=a;;){var i=n.delegate;if(i){var s=S(i,n);if(s){if(s===h)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=f(t,e,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===h)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}function S(t,e){var n=e.method,r=t.iterator[n];if(void 0===r)return e.delegate=null,"throw"===n&&t.iterator.return&&(e.method="return",e.arg=void 0,S(t,e),"throw"===e.method)||"return"!==n&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+n+"' method")),h;var o=f(r,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,h;var a=o.arg;return a?a.done?(e[t.resultName]=a.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,h):a:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,h)}function A(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function N(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function R(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(A,this),this.reset(!0)}function E(t){if(t){var e=t[a];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,o=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:B}}function B(){return{value:void 0,done:!0}}return p.prototype=m,r(D,"constructor",{value:m,configurable:!0}),r(m,"constructor",{value:p,configurable:!0}),p.displayName=c(m,u,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===p||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,m):(t.__proto__=m,c(t,u,"GeneratorFunction")),t.prototype=Object.create(D),t},t.awrap=function(t){return{__await:t}},T(w.prototype),c(w.prototype,i,(function(){return this})),t.AsyncIterator=w,t.async=function(e,n,r,o,a){void 0===a&&(a=Promise);var i=new w(l(e,n,r,o),a);return t.isGeneratorFunction(n)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},T(D),c(D,u,"Generator"),c(D,a,(function(){return this})),c(D,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},t.values=E,R.prototype={constructor:R,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(N),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return i.type="throw",i.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var s=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(s&&u){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(s){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=t,i.arg=e,a?(this.method="next",this.next=a.finallyLoc,h):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),h},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),N(n),h}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;N(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:E(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),h}},t}function u(t,e,n,r,o,a,i){try{var s=t[a](i),u=s.value}catch(t){return void n(t)}s.done?e(u):Promise.resolve(u).then(r,o)}function c(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var a=t.apply(e,n);function i(t){u(a,r,o,i,s,"next",t)}function s(t){u(a,r,o,i,s,"throw",t)}i(void 0)}))}}function l(){return(l=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function f(t,e,n){null!=t&&("number"==typeof t?this.fromNumber(t,e,n):this.fromString(t,null==e&&"string"!=typeof t?256:e))}function h(){return new f(null)}e="Microsoft Internet Explorer"==navigator.appName?(f.prototype.am=function(t,e,n,r,o,a){for(var i=32767&e,s=e>>15;0<=--a;){var u=32767&this[t],c=this[t++]>>15,l=s*u+c*i;o=((u=i*u+((32767&l)<<15)+n[r]+(1073741823&o))>>>30)+(l>>>15)+s*c+(o>>>30),n[r++]=1073741823&u}return o},30):"Netscape"!=navigator.appName?(f.prototype.am=function(t,e,n,r,o,a){for(;0<=--a;){var i=e*this[t++]+n[r]+o;o=Math.floor(i/67108864),n[r++]=67108863&i}return o},26):(f.prototype.am=function(t,e,n,r,o,a){for(var i=16383&e,s=e>>14;0<=--a;){var u=16383&this[t],c=this[t++]>>14,l=s*u+c*i;o=((u=i*u+((16383&l)<<14)+n[r]+o)>>28)+(l>>14)+s*c,n[r++]=268435455&u}return o},28),f.prototype.DB=e,f.prototype.DM=(1<<e)-1,f.prototype.DV=1<<e,f.prototype.FV=Math.pow(2,52),f.prototype.F1=52-e,f.prototype.F2=2*e-52;for(var d=new Array,p="0".charCodeAt(0),m=0;m<=9;++m)d[p++]=m;for(p="a".charCodeAt(0),m=10;m<36;++m)d[p++]=m;for(p="A".charCodeAt(0),m=10;m<36;++m)d[p++]=m;function y(t){return"0123456789abcdefghijklmnopqrstuvwxyz".charAt(t)}function v(t,e){return null==(e=d[t.charCodeAt(e)])?-1:e}function g(t){var e=h();return e.fromInt(t),e}function D(t){var e,n=1;return 0!=(e=t>>>16)&&(t=e,n+=16),0!=(e=t>>8)&&(t=e,n+=8),0!=(e=t>>4)&&(t=e,n+=4),0!=(e=t>>2)&&(t=e,n+=2),0!=(e=t>>1)&&(t=e,n+=1),n}function T(t){this.m=t}function w(t){this.m=t,this.mp=t.invDigit(),this.mpl=32767&this.mp,this.mph=this.mp>>15,this.um=(1<<t.DB-15)-1,this.mt2=2*t.t}function C(){this.i=0,this.j=0,this.S=new Array}function S(){!function(t){A[N++]^=255&t,A[N++]^=t>>8&255,A[N++]^=t>>16&255,A[N++]^=t>>24&255,256<=N&&(N-=256)}((new Date).getTime())}if(T.prototype.convert=function(t){return t.s<0||0<=t.compareTo(this.m)?t.mod(this.m):t},T.prototype.revert=function(t){return t},T.prototype.reduce=function(t){t.divRemTo(this.m,null,t)},T.prototype.mulTo=function(t,e,n){t.multiplyTo(e,n),this.reduce(n)},T.prototype.sqrTo=function(t,e){t.squareTo(e),this.reduce(e)},w.prototype.convert=function(t){var e=h();return t.abs().dlShiftTo(this.m.t,e),e.divRemTo(this.m,null,e),t.s<0&&0<e.compareTo(f.ZERO)&&this.m.subTo(e,e),e},w.prototype.revert=function(t){var e=h();return t.copyTo(e),this.reduce(e),e},w.prototype.reduce=function(t){for(;t.t<=this.mt2;)t[t.t++]=0;for(var e=0;e<this.m.t;++e){var n=32767&t[e],r=n*this.mpl+((n*this.mph+(t[e]>>15)*this.mpl&this.um)<<15)&t.DM;for(t[n=e+this.m.t]+=this.m.am(0,r,t,e,0,this.m.t);t[n]>=t.DV;)t[n]-=t.DV,t[++n]++}t.clamp(),t.drShiftTo(this.m.t,t),0<=t.compareTo(this.m)&&t.subTo(this.m,t)},w.prototype.mulTo=function(t,e,n){t.multiplyTo(e,n),this.reduce(n)},w.prototype.sqrTo=function(t,e){t.squareTo(e),this.reduce(e)},f.prototype.copyTo=function(t){for(var e=this.t-1;0<=e;--e)t[e]=this[e];t.t=this.t,t.s=this.s},f.prototype.fromInt=function(t){this.t=1,this.s=t<0?-1:0,0<t?this[0]=t:t<-1?this[0]=t+this.DV:this.t=0},f.prototype.fromString=function(t,e){var n;if(16==e)n=4;else if(8==e)n=3;else if(256==e)n=8;else if(2==e)n=1;else if(32==e)n=5;else{if(4!=e)return void this.fromRadix(t,e);n=2}this.t=0,this.s=0;for(var r=t.length,o=!1,a=0;0<=--r;){var i=8==n?255&t[r]:v(t,r);i<0?"-"==t.charAt(r)&&(o=!0):(o=!1,0==a?this[this.t++]=i:a+n>this.DB?(this[this.t-1]|=(i&(1<<this.DB-a)-1)<<a,this[this.t++]=i>>this.DB-a):this[this.t-1]|=i<<a,(a+=n)>=this.DB&&(a-=this.DB))}8==n&&0!=(128&t[0])&&(this.s=-1,0<a&&(this[this.t-1]|=(1<<this.DB-a)-1<<a)),this.clamp(),o&&f.ZERO.subTo(this,this)},f.prototype.clamp=function(){for(var t=this.s&this.DM;0<this.t&&this[this.t-1]==t;)--this.t},f.prototype.dlShiftTo=function(t,e){for(var n=this.t-1;0<=n;--n)e[n+t]=this[n];for(n=t-1;0<=n;--n)e[n]=0;e.t=this.t+t,e.s=this.s},f.prototype.drShiftTo=function(t,e){for(var n=t;n<this.t;++n)e[n-t]=this[n];e.t=Math.max(this.t-t,0),e.s=this.s},f.prototype.lShiftTo=function(t,e){for(var n=t%this.DB,r=this.DB-n,o=(1<<r)-1,a=Math.floor(t/this.DB),i=this.s<<n&this.DM,s=this.t-1;0<=s;--s)e[s+a+1]=this[s]>>r|i,i=(this[s]&o)<<n;for(s=a-1;0<=s;--s)e[s]=0;e[a]=i,e.t=this.t+a+1,e.s=this.s,e.clamp()},f.prototype.rShiftTo=function(t,e){e.s=this.s;var n=Math.floor(t/this.DB);if(n>=this.t)e.t=0;else{var r=t%this.DB,o=this.DB-r,a=(1<<r)-1;e[0]=this[n]>>r;for(var i=n+1;i<this.t;++i)e[i-n-1]|=(this[i]&a)<<o,e[i-n]=this[i]>>r;0<r&&(e[this.t-n-1]|=(this.s&a)<<o),e.t=this.t-n,e.clamp()}},f.prototype.subTo=function(t,e){for(var n=0,r=0,o=Math.min(t.t,this.t);n<o;)r+=this[n]-t[n],e[n++]=r&this.DM,r>>=this.DB;if(t.t<this.t){for(r-=t.s;n<this.t;)r+=this[n],e[n++]=r&this.DM,r>>=this.DB;r+=this.s}else{for(r+=this.s;n<t.t;)r-=t[n],e[n++]=r&this.DM,r>>=this.DB;r-=t.s}e.s=r<0?-1:0,r<-1?e[n++]=this.DV+r:0<r&&(e[n++]=r),e.t=n,e.clamp()},f.prototype.multiplyTo=function(t,e){var n=this.abs(),r=t.abs(),o=n.t;for(e.t=o+r.t;0<=--o;)e[o]=0;for(o=0;o<r.t;++o)e[o+n.t]=n.am(0,r[o],e,o,0,n.t);e.s=0,e.clamp(),this.s!=t.s&&f.ZERO.subTo(e,e)},f.prototype.squareTo=function(t){for(var e=this.abs(),n=t.t=2*e.t;0<=--n;)t[n]=0;for(n=0;n<e.t-1;++n){var r=e.am(n,e[n],t,2*n,0,1);(t[n+e.t]+=e.am(n+1,2*e[n],t,2*n+1,r,e.t-n-1))>=e.DV&&(t[n+e.t]-=e.DV,t[n+e.t+1]=1)}0<t.t&&(t[t.t-1]+=e.am(n,e[n],t,2*n,0,1)),t.s=0,t.clamp()},f.prototype.divRemTo=function(t,e,n){var r=t.abs();if(!(r.t<=0)){if((c=this.abs()).t<r.t)return null!=e&&e.fromInt(0),void(null!=n&&this.copyTo(n));null==n&&(n=h());var o=h(),a=this.s,i=t.s;0<(t=this.DB-D(r[r.t-1]))?(r.lShiftTo(t,o),c.lShiftTo(t,n)):(r.copyTo(o),c.copyTo(n));var s=o.t,u=o[s-1];if(0!=u){var c,l=this.FV/(c=u*(1<<this.F1)+(1<s?o[s-2]>>this.F2:0)),d=(1<<this.F1)/c,p=1<<this.F2,m=n.t,y=m-s,v=null==e?h():e;for(o.dlShiftTo(y,v),0<=n.compareTo(v)&&(n[n.t++]=1,n.subTo(v,n)),f.ONE.dlShiftTo(s,v),v.subTo(o,o);o.t<s;)o[o.t++]=0;for(;0<=--y;){var g=n[--m]==u?this.DM:Math.floor(n[m]*l+(n[m-1]+p)*d);if((n[m]+=o.am(0,g,n,y,0,s))<g)for(o.dlShiftTo(y,v),n.subTo(v,n);n[m]<--g;)n.subTo(v,n)}null!=e&&(n.drShiftTo(s,e),a!=i&&f.ZERO.subTo(e,e)),n.t=s,n.clamp(),0<t&&n.rShiftTo(t,n),a<0&&f.ZERO.subTo(n,n)}}},f.prototype.invDigit=function(){if(this.t<1)return 0;var t=this[0];if(0==(1&t))return 0;var e=3&t;return 0<(e=(e=(e=(e=e*(2-(15&t)*e)&15)*(2-(255&t)*e)&255)*(2-((65535&t)*e&65535))&65535)*(2-t*e%this.DV)%this.DV)?this.DV-e:-e},f.prototype.isEven=function(){return 0==(0<this.t?1&this[0]:this.s)},f.prototype.exp=function(t,e){if(4294967295<t||t<1)return f.ONE;var n,r=h(),o=h(),a=e.convert(this),i=D(t)-1;for(a.copyTo(r);0<=--i;)e.sqrTo(r,o),0<(t&1<<i)?e.mulTo(o,a,r):(n=r,r=o,o=n);return e.revert(r)},f.prototype.toString=function(t){if(this.s<0)return"-"+this.negate().toString(t);var e;if(16==t)e=4;else if(8==t)e=3;else if(2==t)e=1;else if(32==t)e=5;else{if(4!=t)return this.toRadix(t);e=2}var n,r=(1<<e)-1,o=!1,a="",i=this.t,s=this.DB-i*this.DB%e;if(0<i--)for(s<this.DB&&0<(n=this[i]>>s)&&(o=!0,a=y(n));0<=i;)s<e?(n=(this[i]&(1<<s)-1)<<e-s,n|=this[--i]>>(s+=this.DB-e)):(n=this[i]>>(s-=e)&r,s<=0&&(s+=this.DB,--i)),(o=0<n||o)&&(a+=y(n));return o?a:"0"},f.prototype.negate=function(){var t=h();return f.ZERO.subTo(this,t),t},f.prototype.abs=function(){return this.s<0?this.negate():this},f.prototype.compareTo=function(t){var e=this.s-t.s;if(0!=e)return e;var n=this.t;if(0!=(e=n-t.t))return this.s<0?-e:e;for(;0<=--n;)if(0!=(e=this[n]-t[n]))return e;return 0},f.prototype.bitLength=function(){return this.t<=0?0:this.DB*(this.t-1)+D(this[this.t-1]^this.s&this.DM)},f.prototype.mod=function(t){var e=h();return this.abs().divRemTo(t,null,e),this.s<0&&0<e.compareTo(f.ZERO)&&t.subTo(e,e),e},f.prototype.modPowInt=function(t,e){return e=new(t<256||e.isEven()?T:w)(e),this.exp(t,e)},f.ZERO=g(0),f.ONE=g(1),C.prototype.init=function(t){for(var e,n,r=0;r<256;++r)this.S[r]=r;for(r=e=0;r<256;++r)n=this.S[r],this.S[r]=this.S[e=e+this.S[r]+t[r%t.length]&255],this.S[e]=n;this.i=0,this.j=0},C.prototype.next=function(){var t;return this.i=this.i+1&255,this.j=this.j+this.S[this.i]&255,t=this.S[this.i],this.S[this.i]=this.S[this.j],this.S[this.j]=t,this.S[t+this.S[this.i]&255]},null==A){var A=new Array,N=0;if(window.crypto&&window.crypto.getRandomValues){var R=new Uint8Array(32);for(window.crypto.getRandomValues(R),B=0;B<32;++B)A[N++]=R[B]}if("Netscape"==navigator.appName&&navigator.appVersion<"5"&&window.crypto)for(var E=window.crypto.random(32),B=0;B<E.length;++B)A[N++]=255&E.charCodeAt(B);for(;N<256;)A[N++]=(B=Math.floor(65536*Math.random()))>>>8,A[N++]=255&B;N=0,S()}function P(){if(null==n){for(S(),(n=new C).init(A),N=0;N<A.length;++N)A[N]=0;N=0}return n.next()}function b(){}function L(){this.n=null,this.e=0,this.d=null,this.p=null,this.q=null,this.dmp1=null,this.dmq1=null,this.coeff=null}b.prototype.nextBytes=function(t){for(var e=0;e<t.length;++e)t[e]=P()},L.prototype.doPublic=function(t){return t.modPowInt(this.e,this.n)},L.prototype.setPublic=function(t,e){null!=t&&null!=e&&0<t.length&&0<e.length?(this.n=function(t,e){return new f(t,16)}(t),this.e=parseInt(e,16)):alert("Invalid RSA public key")},L.prototype.encrypt=function(t){return null==(t=function(t,e){if(e<t.length+11)return alert("Message too long for RSA"),null;for(var n=new Array,r=t.length-1;0<=r&&0<e;){var o=t.charCodeAt(r--);o<128?n[--e]=o:127<o&&o<2048?(n[--e]=63&o|128,n[--e]=o>>6|192):(n[--e]=63&o|128,n[--e]=o>>6&63|128,n[--e]=o>>12|224)}n[--e]=0;for(var a=new b,i=new Array;2<e;){for(i[0]=0;0==i[0];)a.nextBytes(i);n[--e]=i[0]}return n[--e]=2,n[--e]=0,new f(n)}(t,this.n.bitLength()+7>>3))||null==(t=this.doPublic(t))?null:0==(1&(t=t.toString(16)).length)?t:"0"+t},r="https://test.masterpassturkiye.com/MasterpassJsonServerHandler/v2",o="",(a=new L).setPublic("F619C53A37BAB059C583DA9AC4E2920FFC9D57E00885E82F7A0863DEAC43CE06374E45A1417DAC907C6CAC0AF1DDF1D7152192FED7A1D9255C97BC27E420E0742B95ED3C53C62995F42CB6EEDB7B1FBDD3E4F4A4AA935650DA81E763CA7074690032F6A6AF72802CC50394C2AFA5C9450A990E6F969A38571C8BC9E381125D2BEEC348AF919D7374FF10DC3E0B4367566CE929AD6EA323A475A677EB41C20B42D44E82E8A53DD52334D927394FCADF09","03");var k=function(){function t(t,e,n){for(var r=n.length-1;0<=r;r--){var i=n[r];e[i]=function(t,e){for(var n=t[e],r=Object.keys(t),o=r.length-1;0<=o;o--)if(r[o]==e){if("cardAliasName"==e||"accountAliasName"==e||"cardHolderName"==e||"listAccountName"==e||"productId"==e||"senderAliasName"==e||"recipientAliasName"==e)return encodeURIComponent(n);if("validationCode"==e){if(k)return a.encrypt(n);if(I){var i=n.replace(".","").replace(",","");return 3==i.length?i:i.concat("0")}}if("rtaPan"==e||"pan"==e)return F(n)?a.encrypt(n):"";if("cvv"==e||"cvc"==e)return 3!=n.length&&4!=n.length?"":a.encrypt(n);if("installmentCount"==e&&""!==n&&!isNaN(n))return parseFloat(n);if("boolean"==typeof n&&!n)continue;return n}return null}(t,i)}e.fp=o,e.additionalParams=u}function e(t,e,o){t.clientId=n;var a=(a=(new Date).toJSON()).replace(/"/g,"");t.dateTime=a,t.version="36.2",t.clientType="1",i.post(r+e,t).then((function(t){return t.data})).then((function(t){var e=function(e){var n={};if(t.hasOwnProperty("Data")){n.referenceNo=t.Data.Body.Fault.Detail.ServiceFaultDetail.RefNo,n.responseCode=t.Data.Body.Fault.Detail.ServiceFaultDetail.ResponseCode,n.responseDescription=t.Data.Body.Fault.Detail.ServiceFaultDetail.ResponseDesc,n.url3D=t.Data.Body.Fault.Detail.ServiceFaultDetail.Url3D,n.url3DSuccess=t.Data.Body.Fault.Detail.ServiceFaultDetail.Url3DSuccess,n.url3DError=t.Data.Body.Fault.Detail.ServiceFaultDetail.Url3DError,n.urlLoan=t.Data.Body.Fault.Detail.ServiceFaultDetail.UrlLoan,n.urlLoanSuccess=t.Data.Body.Fault.Detail.ServiceFaultDetail.UrlLoanSuccess,n.urlLoanError=t.Data.Body.Fault.Detail.ServiceFaultDetail.UrlLoanError,n.newMsisdn=t.Data.Body.Fault.Detail.ServiceFaultDetail.NewMsisdn,n.internalResponseCode=t.Data.Body.Fault.Detail.ServiceFaultDetail.InternalResponseCode,n.internalResponseDescription=t.Data.Body.Fault.Detail.ServiceFaultDetail.InternalResponseMessage;var r=t.Data.Body.Fault.Detail.ServiceFaultDetail.Token,o="";if(t.Data.Body.hasOwnProperty("Response")){n.token=o=t.Data.Body.Response.Result.TransactionBody.Token,e="",t.Data.Body.Response.Result.TransactionBody.hasOwnProperty("RefNo")&&""!==t.Data.Body.Response.Result.TransactionBody.RefNo&&(e=t.Data.Body.Response.Result.TransactionBody.RefNo),t.Data.Body.Fault.Detail.ServiceFaultDetail.hasOwnProperty("RefNo")&&""!==t.Data.Body.Fault.Detail.ServiceFaultDetail.RefNo&&(e=t.Data.Body.Fault.Detail.ServiceFaultDetail.RefNo),n.transactionId=e,e="",t.Data.Body.Response.Result.TransactionBody.hasOwnProperty("CardUniqueId")&&""!==t.Data.Body.Response.Result.TransactionBody.CardUniqueId&&(e=t.Data.Body.Response.Result.TransactionBody.CardUniqueId),n.cardUniqueId=e,t.Data.Body.Response.Result.TransactionBody.hasOwnProperty("AccountList")&&""!==t.Data.Body.Response.Result.TransactionBody.AccountList&&(n.AccountList=t.Data.Body.Response.Result.TransactionBody.AccountList);var a=t.Data.Body.Response.Result.TransactionBody.ListItems;try{a&&0!==a.ListItem&&(n.cards=a.ListItem)}catch(e){}try{a&&0!==a.BankList&&(n.banks=a.BankList)}catch(e){}n.accountStatus=t.Data.Body.Response.Result.TransactionBody.AccountStatus,n.amount=t.Data.Body.Response.Result.TransactionBody.Amount,n.orderNo=t.Data.Body.Response.Result.TransactionBody.OrderNo,n.installmentCount=t.Data.Body.Response.Result.TransactionBody.InstallmentCount}r&&0!==r.length?s=r:n.token=o}return n}(t);o(200,e)})).catch((function(t){return o(500,t)}))}var n,s,u,c,l=["actionType","clientIp","delinkReason","eActionType","cardTypeFlag","cpinFlag","defaultAccount","mmrpConfig","identityVerificationFlag","mobileAccountConfig","msisdn","referenceNo","sendSms","sendSmsLanguage","timeZone","uiChannelType","rtaPan","expiryDate","accountAliasName","cvc","homeAddress","homeCity","homeState","homeCountryCode","homePostalCode","firstName","lastName","email","cardHolderName","token"],f=["msisdn","referenceNo","sendSms","sendSmsLanguage","accountAliasName","token"],h=["validationCode","sendSms","sendSmsLanguage","referenceNo","token"],d=["aav","amount","clientIp","encCPin","encPassword","listAccountName","msisdn","password","referenceNo","sendSms","sendSmsLanguage","sendSmsMerchant","userId","token","rewardName","rewardValue","moneyCardInvoiceAmount","moneyCardMigrosDiscountAmount","moneyCardPaymentAmount","moneyCardExtraDiscountAmount","moneyCardProductBasedDiscountAmount","installmentCount","cvc","macroMerchantId","orderNo","paymentType"],p=["msisdn","encPan","token","referenceNo","sendSms","sendSmsLanguage","cvv"],m=["userId","token","referenceNo","sendSms","sendSmsLanguage"],y=["msisdn","cardAliasName","token","referenceNo","sendSms","sendSmsLanguage"],v=["msisdn","cardAliasName","token","referenceNo","sendSms","sendSmsLanguage"],g=["token","msisdn","sendSmsLanguage","fP","amount","expiryDate","rtaPan","cardHolderName","cvc","macroMerchantId","orderNo","paymentType","installmentCount","rewardName","rewardValue"],D=["sendSmsLanguage","msisdn","token","cardAliasName","fP","referenceNo","sendSms"],T=["token","msisdn","oldValue","theNewValue","valueType","sendSmsLanguage","fP","referenceNo","sendSms"],w=["token","msisdn","sendSmsLanguage","fP","referenceNo","sendSms"],C=["msisdn","accountAliasName","token","referenceNo","sendSms","sendSmsLanguage","fP","amount","actionType","firstName","lastName","gender","expiryDate","rtaPan","cardHolderName","orderNo","merchantId","rewardName","rewardValue","moneyCardInvoiceAmount","moneyCardMigrosDiscountAmount","moneyCardPaymentAmount","moneyCardExtraDiscountAmount","moneyCardProductBasedDiscountAmount","installmentCount","cvc","macroMerchantId","orderNo","paymentType"],S=["msisdn","token","referenceNo","sendSms","sendSmsLanguage"],A=["msisdn","token","listAccountName","amount","endDate","actionType","referenceNo","sendSms","sendSmsLanguage","productId"],N=["aav","amount","clientIp","encCPin","encPassword","moneySendType","senderAliasName","recipientAliasName","msisdn","password","referenceNo","sendSms","sendSmsLanguage","sendSmsMerchant","userId","token","rewardName","rewardValue","moneyCardInvoiceAmount","installmentCount","cvc","macroMerchantId","orderNo","paymentType"],R=["language","referenceNo","cvc","pan","client_token","action_type","token"],E=["msisdn","token","language","referenceNo"],B=["referenceNo","language","msisdn","amount","client_token","fP","macroMerchantId","orderNo","basketInfo","campaignCode","loanBankIca","bankIca"],P=["referenceNo","language","token","fP","identityNumber","transactionType"],b=["referenceNo","language","token","fP","installmentId","installmentCount","loanType"],L=["referenceNo","language","token","fP","loanType","loanRrn"],k=!1,I=!1,F=(c=[0,2,4,6,8,1,3,5,7,9],function(t){for(var e,n=t.length,r=1,o=0;n;)e=parseInt(t.charAt(--n),10),o+=(r^=1)?c[e]:e;return o&&o%10==0});return{setClientId:function(t){n=t},listCards:function(t,n,r){var o={};o.msisdn=t,o.token=n,o.referenceNo="00000000",o.listType="ACCOUNT",o.sendSms="Y",o.clientIp="",o.sendSmsLanguage="eng",e(o,"/listManagement",r)},register:function(n,r){var o={};t(n,o,l),e(o,"/register",r)},purchase:function(n,r){var o={};t(n,o,d),e(o,"/remotePurchaseOther",r)},commit:function(t){var n={referenceNo:"00000000",sendSms:"N",sendSmsLanguage:"eng"};n.token=t,e(n,"/commitTransaction",(function(){}))},deleteCard:function(n,r){var o={};t(n,o,f),e(o,"/deleteCard",r)},validateTransaction:function(n,r){var o=n.pinType;k="mpin"==o||"cvv"==o,"rta"==o&&(I=!0),(o={}).validationRefNo=s,t(n,o,h),e(o,"/validateTransaction",r)},forgotPassword:function(n,r){var o={};t(n,o,p),e(o,"/forgotPassword",r)},setAddress:function(t){r=t},checkMasterPass:function(n,r){var o={};t(n,o,m),e(o,"/checkMasterPassEndUser",r)},linkCardToClient:function(n,r){var o={};t(n,o,v),e(o,"/linkCardToClient",r)},addCardToMasterPass:function(n,r){var o={};t(n,o,y),e(o,"/addCardToMasterPass",r)},purchaseAndRegister:function(n,r){var o={};o.validationRefNo=s,t(n,o,C),e(o,"/purchaseAndRegister",r)},directPurchase:function(n,r){var o={};t(n,o,g),e(o,"/directPurchase",r)},resendOtp:function(t,n,r){var o={};o.validationRefNo=t,o.referenceNo="00000000",o.sendSms="N",o.sendSmsLanguage=n,e(o,"/resendOtp",r)},completeRegistration:function(n,r,o){var a={};a.token2=r,t(n,a,D),e(a,"/completeRegistration",o)},setFingerprint:function(t){o=t},setToken:function(t){s=t},getLastToken:function(){return s},updateUser:function(n,r){var o={};t(n,o,T),e(o,"/updateUser",r)},verifyPin:function(n,r){var o={};t(n,o,w),e(o,"/verifyPin",r)},parseQrCode:function(n,r){var o={};t(n,o,S),e(o,"/QrPaymentVerify",r)},initiateRecurringPayment:function(n,r){var o={};t(n,o,A),e(o,"/initiateManageRecurringPayment",r)},setAdditionalParameters:function(t){u=t},moneySend:function(n,r){var o={};t(n,o,N),e(o,"/initiateMoneySend",r)},getCardUniqueId:function(t,n,r){var o={};o.rtaPan=F(t)?a.encrypt(t):"",o.token=n,o.referenceNo="00000000",o.sendSms="N",o.clientIp="",o.sendSmsLanguage="eng",e(o,"/getCardUniqueId",r)},listCardAccounts:function(n,r){var o={};t(n,o,R),e(o,"/ListAccountByCardOwner ",r)},deleteCardAccount:function(n,r){var o={};t(n,o,E),e(o,"/deletecardbycardowner",r)},getDigitalLoanUrl:function(n,r){var o={};t(n,o,B),e(o,"/digitalLoanUrl",r)},initiateTcknValidation:function(n,r){var o={};t(n,o,P),e(o,"/initiateTcknValidation",r)},completeLoan:function(n,r){var o={};t(n,o,b),e(o,"/completeLoan",r)},initiateLoanPayment:function(n,r){var o={};t(n,o,L),e(o,"/initiateLoanPayment",r)}}}(),I={DefaultMethodData:{register:{actionType:"A",eActionType:"A",cardTypeFlag:"05",cpinFlag:"Y",defaultAccount:"Y",mmrpConfig:"110010",identityVerificationFlag:"Y",mobileAccountConfig:"MWA",timeZone:"+01",uiChannelType:"06"},validateTransaction:{pinType:"otp"},purchase:{macroMerchantId:"",orderNo:"",paymentType:"",rewardName:"",cvc:"",sendSms:"N",aav:"aav",clientIp:"",encCPin:"0",encPassword:"",sendSmsMerchant:"Y",password:""}},ResponseCodes:{SUCCESS_EMPTY:"",SUCCESS:"0000",VALIDATE_OTP:"5001",VALIDATE_MPIN:"5002",VALIDATE_DEVICE:"5008",VALIDATE_3D_SECURE:"5010",PIN_DETERMINATION:"5015"}},F={mfsResponseHandler:function(t,e,n,r){return 200!==t?r({status:"unknown",message:"Connection Error",response:{}}):e.responseCode===I.ResponseCodes.SUCCESS_EMPTY||e.responseCode===I.ResponseCodes.SUCCESS||e.responseCode===I.ResponseCodes.VALIDATE_OTP||e.responseCode===I.ResponseCodes.VALIDATE_MPIN||e.responseCode===I.ResponseCodes.VALIDATE_DEVICE||e.responseCode===I.ResponseCodes.VALIDATE_3D_SECURE||e.responseCode===I.ResponseCodes.PIN_DETERMINATION?n(e):void r({status:e.responseCode,message:e.responseDescription,data:l({},e,{message:e.responseDescription})})},parseAccountStatus:function(t){return"000000"===t.substring(0,6)?"not-user":"11000"===t.substring(1,6)?"unlinked":"11100"===t.substring(1,6)?"registered":"unknown"}},M=function(){};M.Utils=F,M.Constants=I,M.setAddress=k.setAddress,M.setClientId=k.setClientId,M.getLastToken=k.getLastToken,M.checkMasterPass=function(){var t=c(s().mark((function t(e){return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise((function(t,n){k.checkMasterPass(e,(function(e,r){return F.mfsResponseHandler(e,r,t,n)}))})));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),M.listCards=function(){var t=c(s().mark((function t(e,n){return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise((function(t,r){k.listCards(e,n,(function(e,n){return F.mfsResponseHandler(e,n,t,r)}))})));case 1:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),M.register=function(){var t=c(s().mark((function t(e){return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise((function(t,n){var r=l({},I.DefaultMethodData.register,e);k.register(r,(function(e,r){return F.mfsResponseHandler(e,r,t,n)}))})));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),M.validateTransaction=function(){var t=c(s().mark((function t(e){return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise((function(t,n){var r=l({},I.DefaultMethodData.validateTransaction,e);k.validateTransaction(r,(function(e,r){return F.mfsResponseHandler(e,r,t,n)}))})));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),M.deleteCard=function(){var t=c(s().mark((function t(e){return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise((function(t,n){k.deleteCard(e,(function(e,r){return F.mfsResponseHandler(e,r,t,n)}))})));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),M.resendOtp=function(){var t=c(s().mark((function t(e){return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise((function(t,n){var r=k.getLastToken();k.resendOtp(r,e,(function(e,r){return F.mfsResponseHandler(e,r,t,n)}))})));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),M.linkCardToClient=function(){var t=c(s().mark((function t(e){return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise((function(t,n){k.linkCardToClient(e,(function(e,r){return F.mfsResponseHandler(e,r,t,n)}))})));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),M.purchase=function(){var t=c(s().mark((function t(e){return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise((function(t,n){var r=l({},I.DefaultMethodData.purchase,e);k.purchase(r,(function(e,r){return F.mfsResponseHandler(e,r,t,n)}))})));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),M.purchaseAndRegister=function(){var t=c(s().mark((function t(e){return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise((function(t,n){k.purchaseAndRegister(e,(function(e,r){return F.mfsResponseHandler(e,r,t,n)}))})));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),M.directPurchase=function(){var t=c(s().mark((function t(e){return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise((function(t,n){k.directPurchase(e,(function(e,r){return F.mfsResponseHandler(e,r,t,n)}))})));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),M.setAdditionalParameters=k.setAdditionalParameters,exports.MasterPassSDK=M;
//# sourceMappingURL=masterpass-sdk.cjs.production.min.js.map
